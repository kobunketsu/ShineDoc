<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shine: cv::AutoBuffer&lt; _Tp, fixed_size &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Shine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cv</b></li><li class="navelem"><a class="el" href="classcv_1_1_auto_buffer.html">AutoBuffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classcv_1_1_auto_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cv::AutoBuffer&lt; _Tp, fixed_size &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__core.html">Core functionality</a> &raquo; <a class="el" href="group__core__utils.html">Utility and system functions and macros</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Automatically Allocated Buffer Class.  
 <a href="classcv_1_1_auto_buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="utility_8hpp_source.html">utility.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afbc953161e91d6455882c315eff66f6d" id="r_afbc953161e91d6455882c315eff66f6d"><td class="memItemLeft" align="right" valign="top"><a id="afbc953161e91d6455882c315eff66f6d" name="afbc953161e91d6455882c315eff66f6d"></a>
typedef _Tp&#160;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>
<tr class="separator:afbc953161e91d6455882c315eff66f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a990ab2dd088c226def0e59177933c9df" id="r_a990ab2dd088c226def0e59177933c9df"><td class="memItemLeft" align="right" valign="top"><a id="a990ab2dd088c226def0e59177933c9df" name="a990ab2dd088c226def0e59177933c9df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AutoBuffer</b> ()</td></tr>
<tr class="memdesc:a990ab2dd088c226def0e59177933c9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">the default constructor <br /></td></tr>
<tr class="separator:a990ab2dd088c226def0e59177933c9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac498c6689e5a18843e1c9d23441c3a99" id="r_ac498c6689e5a18843e1c9d23441c3a99"><td class="memItemLeft" align="right" valign="top"><a id="ac498c6689e5a18843e1c9d23441c3a99" name="ac498c6689e5a18843e1c9d23441c3a99"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AutoBuffer</b> (size_t _size)</td></tr>
<tr class="memdesc:ac498c6689e5a18843e1c9d23441c3a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor taking the real buffer size <br /></td></tr>
<tr class="separator:ac498c6689e5a18843e1c9d23441c3a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3416e6aa3bb03435706abce813950d6e" id="r_a3416e6aa3bb03435706abce813950d6e"><td class="memItemLeft" align="right" valign="top"><a id="a3416e6aa3bb03435706abce813950d6e" name="a3416e6aa3bb03435706abce813950d6e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AutoBuffer</b> (const <a class="el" href="classcv_1_1_auto_buffer.html">AutoBuffer</a>&lt; _Tp, fixed_size &gt; &amp;<a class="el" href="classcv_1_1_auto_buffer.html#a5286c7bfa1926f51f6d0c7bf5e01c001">buf</a>)</td></tr>
<tr class="memdesc:a3416e6aa3bb03435706abce813950d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the copy constructor <br /></td></tr>
<tr class="separator:a3416e6aa3bb03435706abce813950d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca577db2bf8f73a2c9d5e899f4a75ac" id="r_a4ca577db2bf8f73a2c9d5e899f4a75ac"><td class="memItemLeft" align="right" valign="top"><a id="a4ca577db2bf8f73a2c9d5e899f4a75ac" name="a4ca577db2bf8f73a2c9d5e899f4a75ac"></a>
<a class="el" href="classcv_1_1_auto_buffer.html">AutoBuffer</a>&lt; _Tp, fixed_size &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcv_1_1_auto_buffer.html">AutoBuffer</a>&lt; _Tp, fixed_size &gt; &amp;<a class="el" href="classcv_1_1_auto_buffer.html#a5286c7bfa1926f51f6d0c7bf5e01c001">buf</a>)</td></tr>
<tr class="memdesc:a4ca577db2bf8f73a2c9d5e899f4a75ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">the assignment operator <br /></td></tr>
<tr class="separator:a4ca577db2bf8f73a2c9d5e899f4a75ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310b178f5acd17d7ebf5fb1e8cdc4fc7" id="r_a310b178f5acd17d7ebf5fb1e8cdc4fc7"><td class="memItemLeft" align="right" valign="top"><a id="a310b178f5acd17d7ebf5fb1e8cdc4fc7" name="a310b178f5acd17d7ebf5fb1e8cdc4fc7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~AutoBuffer</b> ()</td></tr>
<tr class="memdesc:a310b178f5acd17d7ebf5fb1e8cdc4fc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor. calls <a class="el" href="classcv_1_1_auto_buffer.html#aab78aeff0108ad5ba8c96baafd58702b" title="deallocates the buffer if it was dynamically allocated">deallocate()</a> <br /></td></tr>
<tr class="separator:a310b178f5acd17d7ebf5fb1e8cdc4fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c16dbf31a16748ffc930e796f0dc54b" id="r_a1c16dbf31a16748ffc930e796f0dc54b"><td class="memItemLeft" align="right" valign="top"><a id="a1c16dbf31a16748ffc930e796f0dc54b" name="a1c16dbf31a16748ffc930e796f0dc54b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>allocate</b> (size_t _size)</td></tr>
<tr class="memdesc:a1c16dbf31a16748ffc930e796f0dc54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocates the new buffer of size _size. if the _size is small enough, stack-allocated buffer is used <br /></td></tr>
<tr class="separator:a1c16dbf31a16748ffc930e796f0dc54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab78aeff0108ad5ba8c96baafd58702b" id="r_aab78aeff0108ad5ba8c96baafd58702b"><td class="memItemLeft" align="right" valign="top"><a id="aab78aeff0108ad5ba8c96baafd58702b" name="aab78aeff0108ad5ba8c96baafd58702b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>deallocate</b> ()</td></tr>
<tr class="memdesc:aab78aeff0108ad5ba8c96baafd58702b"><td class="mdescLeft">&#160;</td><td class="mdescRight">deallocates the buffer if it was dynamically allocated <br /></td></tr>
<tr class="separator:aab78aeff0108ad5ba8c96baafd58702b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97edc51af209cd6ab20da864c3468124" id="r_a97edc51af209cd6ab20da864c3468124"><td class="memItemLeft" align="right" valign="top"><a id="a97edc51af209cd6ab20da864c3468124" name="a97edc51af209cd6ab20da864c3468124"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>resize</b> (size_t _size)</td></tr>
<tr class="memdesc:a97edc51af209cd6ab20da864c3468124"><td class="mdescLeft">&#160;</td><td class="mdescRight">resizes the buffer and preserves the content <br /></td></tr>
<tr class="separator:a97edc51af209cd6ab20da864c3468124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e51a3baa4dcb2d8eaefddc4c3ceb455" id="r_a3e51a3baa4dcb2d8eaefddc4c3ceb455"><td class="memItemLeft" align="right" valign="top"><a id="a3e51a3baa4dcb2d8eaefddc4c3ceb455" name="a3e51a3baa4dcb2d8eaefddc4c3ceb455"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>size</b> () const</td></tr>
<tr class="memdesc:a3e51a3baa4dcb2d8eaefddc4c3ceb455"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the current buffer size <br /></td></tr>
<tr class="separator:a3e51a3baa4dcb2d8eaefddc4c3ceb455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf37a20ae4387196fe2a5684ced410dc" id="r_abf37a20ae4387196fe2a5684ced410dc"><td class="memItemLeft" align="right" valign="top"><a id="abf37a20ae4387196fe2a5684ced410dc" name="abf37a20ae4387196fe2a5684ced410dc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>operator _Tp *</b> ()</td></tr>
<tr class="memdesc:abf37a20ae4387196fe2a5684ced410dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns pointer to the real buffer, stack-allocated or head-allocated <br /></td></tr>
<tr class="separator:abf37a20ae4387196fe2a5684ced410dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1062498f5ea59f2784883cfd6607cb" id="r_a8e1062498f5ea59f2784883cfd6607cb"><td class="memItemLeft" align="right" valign="top"><a id="a8e1062498f5ea59f2784883cfd6607cb" name="a8e1062498f5ea59f2784883cfd6607cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>operator const _Tp *</b> () const</td></tr>
<tr class="memdesc:a8e1062498f5ea59f2784883cfd6607cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns read-only pointer to the real buffer, stack-allocated or head-allocated <br /></td></tr>
<tr class="separator:a8e1062498f5ea59f2784883cfd6607cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a194ac92b66c003787e0782bd8a38750b" id="r_a194ac92b66c003787e0782bd8a38750b"><td class="memItemLeft" align="right" valign="top"><a id="a194ac92b66c003787e0782bd8a38750b" name="a194ac92b66c003787e0782bd8a38750b"></a>
_Tp *&#160;</td><td class="memItemRight" valign="bottom"><b>ptr</b></td></tr>
<tr class="memdesc:a194ac92b66c003787e0782bd8a38750b"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the real buffer, can point to buf if the buffer is small enough <br /></td></tr>
<tr class="separator:a194ac92b66c003787e0782bd8a38750b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6025c7fd11fa230c2c315673d2d293b3" id="r_a6025c7fd11fa230c2c315673d2d293b3"><td class="memItemLeft" align="right" valign="top"><a id="a6025c7fd11fa230c2c315673d2d293b3" name="a6025c7fd11fa230c2c315673d2d293b3"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>sz</b></td></tr>
<tr class="memdesc:a6025c7fd11fa230c2c315673d2d293b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of the real buffer <br /></td></tr>
<tr class="separator:a6025c7fd11fa230c2c315673d2d293b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5286c7bfa1926f51f6d0c7bf5e01c001" id="r_a5286c7bfa1926f51f6d0c7bf5e01c001"><td class="memItemLeft" align="right" valign="top"><a id="a5286c7bfa1926f51f6d0c7bf5e01c001" name="a5286c7bfa1926f51f6d0c7bf5e01c001"></a>
_Tp&#160;</td><td class="memItemRight" valign="bottom"><b>buf</b> [(fixed_size &gt; 0) ? fixed_size :1]</td></tr>
<tr class="memdesc:a5286c7bfa1926f51f6d0c7bf5e01c001"><td class="mdescLeft">&#160;</td><td class="mdescRight">pre-allocated buffer. At least 1 element to confirm C++ standard reqirements <br /></td></tr>
<tr class="separator:a5286c7bfa1926f51f6d0c7bf5e01c001"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename _Tp, size_t fixed_size = 1024/sizeof(_Tp)+8&gt;<br />
class cv::AutoBuffer&lt; _Tp, fixed_size &gt;</div><p>Automatically Allocated Buffer Class. </p>
<p>The class is used for temporary buffers in functions and methods. If a temporary buffer is usually small (a few K's of memory), but its size depends on the parameters, it makes sense to create a small fixed-size array on stack and use it if it's large enough. If the required buffer size is larger than the fixed size, another buffer of sufficient size is allocated dynamically and released after the processing. Therefore, in typical cases, when the buffer size is small, there is no overhead associated with malloc()/free(). At the same time, there is no limit on the size of processed data.</p>
<p>This is what <a class="el" href="classcv_1_1_auto_buffer.html" title="Automatically Allocated Buffer Class.">AutoBuffer</a> does. The template takes 2 parameters - type of the buffer elements and the number of stack-allocated elements. Here is how the class is used:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> my_func(<span class="keyword">const</span> <a class="code hl_class" href="classcv_1_1_mat.html">cv::Mat</a>&amp; m)</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_class" href="classcv_1_1_auto_buffer.html">cv::AutoBuffer&lt;float&gt;</a> <a class="code hl_variable" href="classcv_1_1_auto_buffer.html#a5286c7bfa1926f51f6d0c7bf5e01c001">buf</a>; <span class="comment">// create automatic buffer containing 1000 floats</span></div>
<div class="line"> </div>
<div class="line">   <a class="code hl_variable" href="classcv_1_1_auto_buffer.html#a5286c7bfa1926f51f6d0c7bf5e01c001">buf</a>.<a class="code hl_function" href="classcv_1_1_auto_buffer.html#a1c16dbf31a16748ffc930e796f0dc54b">allocate</a>(m.<a class="code hl_variable" href="classcv_1_1_mat.html#abed816466c45234254d25bc59c31245e">rows</a>); <span class="comment">// if m.rows &lt;= 1000, the pre-allocated buffer is used,</span></div>
<div class="line">                         <span class="comment">// otherwise the buffer of &quot;m.rows&quot; floats will be allocated</span></div>
<div class="line">                         <span class="comment">// dynamically and deallocated in cv::AutoBuffer destructor</span></div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="ttc" id="aclasscv_1_1_auto_buffer_html"><div class="ttname"><a href="classcv_1_1_auto_buffer.html">cv::AutoBuffer</a></div><div class="ttdoc">Automatically Allocated Buffer Class.</div><div class="ttdef"><b>Definition</b> utility.hpp:111</div></div>
<div class="ttc" id="aclasscv_1_1_auto_buffer_html_a1c16dbf31a16748ffc930e796f0dc54b"><div class="ttname"><a href="classcv_1_1_auto_buffer.html#a1c16dbf31a16748ffc930e796f0dc54b">cv::AutoBuffer::allocate</a></div><div class="ttdeci">void allocate(size_t _size)</div><div class="ttdoc">allocates the new buffer of size _size. if the _size is small enough, stack-allocated buffer is used</div></div>
<div class="ttc" id="aclasscv_1_1_auto_buffer_html_a5286c7bfa1926f51f6d0c7bf5e01c001"><div class="ttname"><a href="classcv_1_1_auto_buffer.html#a5286c7bfa1926f51f6d0c7bf5e01c001">cv::AutoBuffer::buf</a></div><div class="ttdeci">_Tp buf[(fixed_size &gt; 0) ? fixed_size :1]</div><div class="ttdoc">pre-allocated buffer. At least 1 element to confirm C++ standard reqirements</div><div class="ttdef"><b>Definition</b> utility.hpp:147</div></div>
<div class="ttc" id="aclasscv_1_1_mat_html"><div class="ttname"><a href="classcv_1_1_mat.html">cv::Mat</a></div><div class="ttdoc">n-dimensional dense array class</div><div class="ttdef"><b>Definition</b> mat.hpp:731</div></div>
<div class="ttc" id="aclasscv_1_1_mat_html_abed816466c45234254d25bc59c31245e"><div class="ttname"><a href="classcv_1_1_mat.html#abed816466c45234254d25bc59c31245e">cv::Mat::rows</a></div><div class="ttdeci">int rows</div><div class="ttdoc">the number of rows and columns or (-1, -1) when the matrix has more than 2 dimensions</div><div class="ttdef"><b>Definition</b> mat.hpp:1869</div></div>
</div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li>Shine/Shine/opencv2.framework/Versions/A/Headers/core/<a class="el" href="utility_8hpp_source.html">utility.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
